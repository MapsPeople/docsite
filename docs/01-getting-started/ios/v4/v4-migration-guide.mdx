---
title: Migrating from v3 to v4
hide_title: false
hide_table_of_contents: true
sidebar_position: 0
---

The iOS SDK for MapsIndoors has been upgraded from v3 to v4, which comes with improved interfaces and flexibility for developing your own map experience. The MapsIndoors SDK now supports Mapbox as a map provider, alongside some reworked and refactored features that simplify development and SDK behavior. This guide will cover specific changes to the SDK and how to use it to provide you with a guide on how to upgrade from V3 to V4.

## MapsIndoors SDK Map Engine Flavors

With the release of v4 the MapsIndoors SDK is released as two separate libraries depending on the Map Provider - Google Maps or Mapbox.

```swift
import MapsIndoorsGoogleMaps
import GoogleMaps
// or
import MapsIndoorsMapbox
import Mapbox
```

## Introduction of `asyn/await` pattern

### MapsIndoors Directions

```swift
    Task {
        do {
            let route = try await directions.routingWith(query: directionsQuery)
          // ...
    }
```
```swift
    mpMapControl?.goTo(entity: location)
```
### MapsIndoors Provide API Key

```swift
 Task {
        try await MPMapsIndoors.shared.load(apiKey:`YOUR_MAPSINDOORS_API_KEY`)
    }
```
